# Использование Redis в проекте

## Текущее использование Redis

Redis активно используется в проекте для следующих целей:

### 1. Кеширование опубликованных курсов
- **Ключ**: `courses:published`
- **TTL**: 5 минут
- **Описание**: Список всех опубликованных курсов кешируется в Redis для быстрого доступа
- **Инвалидация**: Автоматически при создании, обновлении или удалении курса

### 2. Счетчики просмотров курсов
- **Ключ**: `course:views:{courseId}`
- **TTL**: 24 часа
- **Описание**: Счетчик просмотров каждого курса хранится в Redis
- **Использование**: Увеличивается при каждом просмотре курса

### 3. Сервис кеширования (CacheService)
Сервис предоставляет следующие методы:
- `set(key, value, timeout, unit)` - Сохранить значение с TTL
- `get(key)` - Получить значение
- `delete(key)` - Удалить значение
- `exists(key)` - Проверить существование ключа
- `increment(key)` - Увеличить счетчик
- `increment(key, timeout, unit)` - Увеличить счетчик с TTL
- `getCounter(key)` - Получить значение счетчика

## API Endpoints

### Получить количество просмотров курса
```
GET /api/courses/{id}/views
```

Возвращает количество просмотров курса из Redis.

## Конфигурация

Redis настроен в:
- `docker-compose.yml` - контейнер Redis
- `file-service/src/main/resources/application.yml` - настройки подключения
- `file-service/src/main/java/.../config/RedisConfig.java` - конфигурация бинов

## Преимущества использования Redis

1. **Производительность**: Быстрый доступ к часто запрашиваемым данным
2. **Масштабируемость**: Redis может обрабатывать миллионы операций в секунду
3. **Счетчики**: Эффективное хранение и обновление счетчиков
4. **TTL**: Автоматическое истечение данных через заданное время

## Будущие возможности использования

Redis можно использовать для:
- Rate limiting (ограничение количества запросов от пользователя)
- Сессии пользователей
- Кеширование токенов
- Очереди задач
- Pub/Sub для уведомлений в реальном времени

